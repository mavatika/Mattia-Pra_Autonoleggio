<!doctype html>
<html lang="en">
<head>
  { common_head }
  <link rel="stylesheet" href="../css/pages/user.css">
  <link rel="stylesheet" href="../css/pages/admin.css">
  <script defer src="../js/pages/user.js"></script>
  <title>{ name } - Admin | Mattia Pr√† - Autonoleggio</title>
</head>
<body class="user admin not_home">
    { cookie_banner }
    { header }
  <main>
    <h1>Welcome back, sir { name }</h1>
    <div class="grid_container">
      <aside class="container">
        <h3>Navigation bar</h3>
        <ul>
          <li><a href="#personal_information">
            <span class="icon_wrapper">
              <img src="../img/icons/info.svg" alt="Info">
            </span>
            <span>Personal information</span>
          </a></li>
          <li><a href="#cars_available">
            <span class="icon_wrapper">
              <img src="../img/icons/cars.svg" alt="Cars">
            </span>
            <span>Cars available</span>
          </a></li>
          <li><a href="#all_the_rents">
            <span class="icon_wrapper">
              <img src="../img/icons/dollar-sign.svg" alt="Rents">
            </span>
            <span>All the rents</span>
          </a></li>
          <li><a href="#users">
            <span class="icon_wrapper">
              <img src="../img/icons/users.svg" alt="Users">
            </span>
            <span>Users</span>
          </a></li>
          <li><a href="#messages">
            <span class="icon_wrapper">
              <img src="../img/icons/inbox.svg" alt="Messages">
            </span>
            <span>Messages</span>
          </a></li>
        </ul>
      </aside>
      <div class="main_container">
        <section class="userdata" id="personal_information">
          <h2>Personal information</h2>
          { user_update }
          <form action="#" method="POST">
            <fieldset>
              <div class="input_wrapper">
                <label>Username</label>
                <input type="text" disabled readonly value="{ username }">
              </div>
              <div class="input_wrapper">
                <label>Name</label>
                <input type="text" disabled readonly value="{ name }">
              </div>
              <div class="input_wrapper">
                <label>Surname</label>
                <input type="text" disabled readonly value="{ surname }">
              </div>
            </fieldset>
            <fieldset>
              <div class="input_wrapper">
                <label>Age</label>
                <input type="text" disabled readonly value="{ age }">
              </div>
              <div class="input_wrapper">
                <label for="city">City</label>
                <input type="text" id="city" name="city" value="{ city }">
              </div>
              <div class="input_wrapper">
                <label for="fav_car">Favorite car</label>
                <input type="text" id="fav_car" name="fav_car" value="{ fav_car }">
              </div>
            </fieldset>
            <button class="primary_btn" type="submit" name="updateuser">Update</button>
          </form>
        </section>
        <section id="cars_available">
          <div class="section_title_2side">
            <h2>Cars available</h2>
            <button class="secondary_btn openform" data-form="addcar">Add car</button>
          </div>
          { cars_update }
          <div class="container table_container">
            <table>
              <thead>
                <tr>
                  <th>Brand</th>
                  <th>Model</th>
                  <th>Age</th>
                  <th class="set_quantity_col">Quantity</th>
                  <th>Remove car</th>
                </tr>
              </thead>
              <tbody>
                { stock }
              </tbody>
            </table>
          </div>
        </section>
        <section id="all_the_rents">
          <h2>All the rents</h2>
          { rents_update }
          <div class="container table_container">
            <table class="hoverable clickable_table">
              <thead>
                <tr>
                  <th>Username</th>
                  <th>Rent code</th>
                  <th>Brand</th>
                  <th>Model</th>
                  <th>City</th>
                  <th>From</th>
                  <th>To</th>
                  <th>Total income</th>
                  <th>Status</th>
                  <th>Cancel rent</th>
                </tr>
              </thead>
              <tbody>
                { rents }
              </tbody>
            </table>
          </div>
        </section>
        <section id="users">
          <div class="section_title_2side">
            <h2>Users</h2>
            <button class="secondary_btn openform" data-form="adduser">Add user</button>
          </div>
          { users_list_update }
          <div class="container table_container">
            <table>
              <thead>
                <tr>
                  <th>Username</th>
                  <th>E-mail</th>
                  <th>Surname</th>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Scope</th>
                  <th>City</th>
                  <th>Favorite car</th>
                  <th>Remove</th>
                </tr>
              </thead>
              <tbody>
                { user_list }
              </tbody>
            </table>
          </div>
        </section>
        <section id="messages">
          <h2>Messages</h2>
          { message_update }
          <div class="container table_container">
            <table class="hoverable clickable_table">
              <thead>
                <tr>
                  <th>User</th>
                  <th>Message</th>
                  <th>Reply</th>
                </tr>
              </thead>
              <tbody>
                { message_list }
              </tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </main>
  <div class="overlay">
    <div class="overlay_inner">
      <button class="close" tabindex="0" title="Close banner">
        <img src="../img/icons/x.svg" alt="" role="presentation">
      </button>
      <template id="form_template">
        <form action="." method="POST" class="create_record" enctype="multipart/form-data">
          <div id="table_placeholder"></div>
          <template id="adduser">
            <div class="input_wrapper">
              <label for="username">Username</label>
              <input type="text" id="username" name="username" maxlength="50" minlength="3" autocomplete="username" placeholder="Username" required>
            </div>
            <div class="input_wrapper">
              <label for="password">Password</label>
              <input type="password" id="password" class="password" name="password" maxlength="50" minlength="3" placeholder="Password" autocomplete="new-password" required>
            </div>
            <div class="input_wrapper">
              <label for="email">E-mail</label>
              <input type="email" id="email" name="email" maxlength="100" minlength="3" autocomplete="email" placeholder="E-mail" required>
            </div>
            <div class="input_wrapper">
              <label for="scope">Scope</label>
              <select id="scope" name="scope" required>
                <option value="admin">Admin</option>
                <option value="user" selected>User</option>
                <option value="temp">Temp</option>
              </select>
            </div>
            <div class="input_wrapper">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" maxlength="50" minlength="3" placeholder="Name" autocomplete="given-name" required>
            </div>
            <div class="input_wrapper">
              <label for="surname">Surname</label>
              <input type="text" id="surname" name="surname" maxlength="50" minlength="3" placeholder="Surname" autocomplete="family-name" required>
            </div>
            <div class="input_wrapper">
              <label for="age">Age</label>
              <input type="number" id="age" name="age" min="18" max="99" placeholder="18" value="18" required>
            </div>
            <div class="input_wrapper">
              <label for="city">City</label>
              <input type="text" name="city" id="city" maxlength="50" minlength="3" placeholder="New York, Los Angeles, ...">
            </div>
            <div class="input_wrapper">
              <label for="fav_car">Favorite brand</label>
              <input type="text" name="fav_car" id="fav_car" maxlength="50" minlength="3" placeholder="Tesla, Lamborghini, ...">
            </div>
          </template>
          <template id="addcar">
            <fieldset>
              <legend>The car</legend>
              <div class="input_wrapper">
                <label for="brand">Brand</label>
                <input type="text" id="brand" name="brand" list="brands" maxlength="40" minlength="1" placeholder="Brand" required>
                <datalist id="brands">
                    { brands_in_db }
                </datalist>
              </div>
              <div class="input_wrapper">
                <label for="model">Model</label>
                <input type="text" id="model" name="model" maxlength="40" minlength="1" placeholder="Model" required>
              </div>
              <div class="input_wrapper">
                <label for="image">Image</label>
                <input type="file" id="image" name="image" accept=".png, .gif, .bpm, .tiff, .svg, .tif" required>
              </div>
            </fieldset>
            <fieldset>
              <legend>Details</legend>
              <div class="input_wrapper">
                <label for="price">Price</label>
                <input type="number" id="price" name="price" min="0" max="999999" placeholder="Price" required>
              </div>
              <div class="input_wrapper">
                <label for="engine">Engine</label>
                <input type="number" id="engine" name="engine" min="0" max="999999" placeholder="CV" required>
              </div>
              <div class="input_wrapper">
                <label for="seats">Seats</label>
                <input type="number" id="seats" name="seats" min="1" max="7" placeholder="Seats" required>
              </div>
              <div class="input_wrapper">
                <label for="transmission">Transmission</label>
                <select name="transmission" id="transmission" required>
                  <option value="Electric vehicle">Electric vehicle</option>
                  <option value="Fuel - automatic transmission">Fuel - automatic transmission</option>
                  <option value="Fuel - manual transmission">Fuel - manual transmission</option>
                  <option value="Gas - automatic transmission">Gas - automatic transmission</option>
                  <option value="Gas - manual transmission">Gas - manual transmission</option>
                </select>
              </div>
              <div class="input_wrapper">
                <label for="category">Category</label>
                <input type="text" id="category" name="category" maxlength="20" minlength="3" placeholder="SUV, Hypercar, ..." required>
              </div>
              <div class="input_wrapper">
                <label for="speed">Max Speed</label>
                <input type="number" id="speed" name="speed" min="1" max="999999" placeholder="km/h" required>
              </div>
              <div class="input_wrapper horizontal">
                <label for="gps">GPS enabled</label>
                <input type="checkbox" id="gps" name="gps" value="1" checked>
              </div>
              <div class="input_wrapper">
                <label for="tank">Tank capacity</label>
                <input type="number" id="tank" name="tank" min="0" max="9999" placeholder="l" required>
              </div>
              <div class="input_wrapper">
                <label for="age">Car's age</label>
                <input type="number" id="age" name="age" min="0" max="9999" placeholder="Age" required>
              </div>
              <div class="input_wrapper">
                <label for="stock">Quantity in stock</label>
                <input type="number" id="stock" name="stock" min="0" max="9999" placeholder="Stock" required>
              </div>
            </fieldset>
            <fieldset>
              <legend>Presentation</legend>
              <div class="input_wrapper">
                <label for="short_description">Short description</label>
                <textarea name="short_description" id="short_description" placeholder="Short description" required maxlength="65535"></textarea>
              </div>
              <div class="input_wrapper">
                <label for="description">Description</label>
                <textarea name="description" id="description" placeholder="Description" required maxlength="65535"></textarea>
              </div>
              <div class="input_wrapper">
                <label for="img1">Image 1</label>
                <input type="text" id="img1" name="img1" maxlength="255" minlength="0" placeholder="Link to image 1">
              </div>
              <div class="input_wrapper">
                <label for="img2">Image 2</label>
                <input type="text" id="img2" name="img2" maxlength="255" minlength="0" placeholder="Link to image 2">
              </div>
              <div class="input_wrapper">
                <label for="img3">Image 3</label>
                <input type="text" id="img3" name="img3" maxlength="255" minlength="0" placeholder="Link to image 3">
              </div>
            </fieldset>
          </template>
          <div class="button_wrapper">
            <button class="tertiary_btn" type="reset">Reset</button>
            <button class="primary_btn" type="submit" name="create_sth">Create</button>
          </div>
        </form>
      </template>
      <template id="message_template">
        <div class="message_container container">
          <h3></h3>
          <hr>
          <p></p>
          <div class="button_wrapper">
            <a href="#" class="primary_btn">Mark as complete</a>
          </div>
        </div>
      </template>
    </div>
  </div>
{ footer }
</body>
</html>
